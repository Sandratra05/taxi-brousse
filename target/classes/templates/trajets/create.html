<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="fr">
<head>
    <title>Créer un trajet</title>
    <link rel="stylesheet" th:href="@{/css/sidebar.css}">
</head>
<body>
    <div th:replace="fragments/sidebar :: sidebar"></div>
    <div class="content">
        <h1>Créer un trajet</h1>

        <form action="/trajets" method="post">
            <h3><i class="fas fa-map-marked-alt"></i> Informations du trajet</h3>

            <label>Gare de départ:
                <select name="gareDepartId" required>
                    <option value="">-- Choisir une gare --</option>
                    <option th:each="gare : ${gares}"
                            th:value="${gare.id}"
                            th:text="${gare.nom}"
                            th:selected="${gareDepartId != null && gareDepartId == gare.id}"></option>
                </select>
            </label>
            <span th:if="${gareDepartError}" class="error-message" th:text="${gareDepartError}"></span>

            <label>Gare d'arrivée:
                <select name="gareArriveeId" required>
                    <option value="">-- Choisir une gare --</option>
                    <option th:each="gare : ${gares}"
                            th:value="${gare.id}"
                            th:text="${gare.nom}"
                            th:selected="${gareArriveeId != null && gareArriveeId == gare.id}"></option>
                </select>
            </label>
            <span th:if="${gareArriveeError}" class="error-message" th:text="${gareArriveeError}"></span>

            <label>Distance (km):
                <input type="number" step="0.01" name="distance" th:value="${distance}" placeholder="Ex: 150.5" required/>
            </label>
            <span th:if="${distanceError}" class="error-message" th:text="${distanceError}"></span>

            <label>Durée estimée (minutes):
                <input type="number" name="duree" th:value="${duree}" placeholder="Ex: 180" required/>
            </label>
            <span th:if="${dureeError}" class="error-message" th:text="${dureeError}"></span>

            <hr/>

            <h3><i class="fas fa-money-bill-wave"></i> Tarification</h3>

            <label>Prix de base (Ar):
                <input type="number" step="0.01" name="prixBase" th:value="${prixBase}" placeholder="Ex: 25000"/>
            </label>
            <span th:if="${prixBaseError}" class="error-message" th:text="${prixBaseError}"></span>

            <label>Prix bagage (Ar):
                <input type="number" step="0.01" name="prixBagage" th:value="${prixBagage}" placeholder="Ex: 5000"/>
            </label>
            <span th:if="${prixBagageError}" class="error-message" th:text="${prixBagageError}"></span>

            <div class="actions-buttons">
                <button type="submit" class="btn-success"><i class="fas fa-plus"></i> Créer</button>
                <a href="/trajets" class="btn btn-secondary"><i class="fas fa-times"></i> Annuler</a>
            </div>
        </form>
    </div>
</body>
</html>

